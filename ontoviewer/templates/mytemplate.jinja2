{% extends "layout.jinja2" %}

{% block scripts %}
<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-sankey.min.js"></script>

 
{% endblock scripts %}

{% block content %}
<div id="container"></div>
{% endblock content %}

{% block endscripts %}
<script>
anychart.onDocumentReady(function () {

    // create data
    var data = {{ jsond|tojson|safe }};

    // create a chart and set the data
    var chart = anychart.sankey(data);

    // set the width of nodes
    chart.nodeWidth("30%");

    // set the curvature of the flows
    chart.curveFactor(0);

    // set the chart title
    chart.title("Sankey Diagram: Flows (Curvature = 0)");

    // set the container id
    chart.container("container");

    // initiate drawing the chart
    chart.draw();
});

</script>
 
{% endblock endscripts %}